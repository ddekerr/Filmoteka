{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,WCAC,WACE,IAAMC,EAAO,CACVC,oBAAqBC,SAASC,cAAc,iBAC5CC,qBAAsBF,SAASC,cAAc,qBAC7CE,UAAWH,SAASC,cAAc,eAClCG,aAAcJ,SAASC,cAAc,kBAkBxC,SAASI,IACNP,EAAKK,UAAUG,UAAUC,OAAO,WAChCP,SAASQ,KAAKC,MAAMC,SAAW,UAC/BV,SAASW,oBAAoB,UAAWC,GACxCZ,SAASW,oBAAoB,QAASE,GAIzC,SAASD,EAAkBE,GACN,WAAdA,EAAMC,KACPV,IAGN,SAASQ,EAAqBC,GACvBA,EAAME,SAAWlB,EAAKM,cACvBC,IA9BFP,EAAKC,qBACND,EAAKC,oBAAoBkB,iBAAiB,SAO7C,WACGnB,EAAKK,UAAUG,UAAUC,OAAO,WAChCP,SAASQ,KAAKC,MAAMC,SAAW,SAC/BV,SAASiB,iBAAiB,UAAWL,GACrCZ,SAASiB,iBAAiB,QAASC,qBARlCpB,EAAKI,sBACNJ,EAAKI,qBAAqBe,iBAAiB,QAASZ,GAbzD,G,wDDyBKc,GAAQ,EAAAC,EAAAC,cACRC,EAAOH,EAAMI,iBACnBC,EAAAC,QAAQC,KAAK9B,EAAA+B,UAEb,EAAAC,EAAAC,qBAAoBP,GAAMQ,MAAK,SAAAC,GAC7B,IAAMC,EAAQD,EAAKE,cACnBd,EAAMe,MAAMF,GACZ,IAAMG,GAAS,EAAAC,EAAAC,oBAAmBN,EAAKO,SACvC1C,EAAA+B,QAAQY,UAAYJ,EACpBX,EAAAC,QAAQe,KAAK5C,EAAA+B,YAGfR,EAAMsB,GAAG,cAAc,SAAA3B,GACrBU,EAAAC,QAAQC,KAAK9B,EAAA+B,SAEyB,IAAhCe,EAAc5B,EAAM6B,MAG1B,EAAAf,EAAAC,qBAAoBa,GAAaZ,MAAK,SAAAC,GACpC,IAAMI,GAAS,EAAAC,EAAAC,oBAAmBN,EAAKO,SACvC1C,EAAA+B,QAAQY,UAAYJ,EACpBX,EAAAC,QAAQe,KAAK5C,EAAA+B,e","sources":["src/js/index.js","src/js/modalteam.js"],"sourcesContent":["import { gallery } from './refs';\n// import config from './config';\n\nimport modal from './modal';\nimport modalteam from './modalteam';\n// import './modal-log-in';\n// import './log-in';\n\n// import './library-buttons';\nimport { pagination } from './pagination';\nimport {spinner} from './spinner';\n\n\nimport {\n  fetchTrendingMovies,\n  fetchMoviesByQuery,\n  fetchMovieByID,\n  genersForFilmCard,\n} from './filmoteka';\nimport { createFilmsGallery } from './markups';\n\n/**\n * Default request when page opening\n * if everything fine render films gallery\n */\nconst pagin = pagination();\nconst page = pagin.getCurrentPage();\nspinner.spin(gallery)\n\nfetchTrendingMovies(page).then(data => {\n  const total = data.total_results;\n  pagin.reset(total);\n  const markup = createFilmsGallery(data.results);\n  gallery.innerHTML = markup;\n  spinner.stop(gallery)\n});\n\npagin.on('beforeMove', event => {\n  spinner.spin(gallery)\n  // получаем номер активной страницы на кнопках\n  const currentPage = event.page;\n\n  // получаем фильмы согласно страницы\n  fetchTrendingMovies(currentPage).then(data => {\n    const markup = createFilmsGallery(data.results);\n    gallery.innerHTML = markup;\n    spinner.stop(gallery)\n  });\n});","(() => {\n   const refs = {\n      openModalTeamButton: document.querySelector(\".footer__link\"),\n      closeModalTeamButton: document.querySelector(\"[modalteam-close]\"),\n      modalTeam: document.querySelector(\"[modalteam]\"),\n      backdropTeam: document.querySelector('.backdropteam'),\n   };\n\n   if (refs.openModalTeamButton) {\n      refs.openModalTeamButton.addEventListener(\"click\", openModalTeam);\n   }\n\n   if (refs.closeModalTeamButton) {\n      refs.closeModalTeamButton.addEventListener(\"click\", closeModalTeam);\n   }\n\n   function openModalTeam() {\n      refs.modalTeam.classList.toggle(\"is-open\");\n      document.body.style.overflow = 'hidden';\n      document.addEventListener('keydown', offModalForEscape);\n      document.addEventListener('click', offModalBackdrop)\n   };\n\n   function closeModalTeam() {\n      refs.modalTeam.classList.toggle(\"is-open\");\n      document.body.style.overflow = 'overlay';\n      document.removeEventListener('keydown', offModalForEscape);\n      document.removeEventListener('click', offModalBackdropTeam)\n\n   };\n\n   function offModalForEscape(event) {\n      if (event.key === 'Escape') {\n         closeModalTeam();\n      }\n   }\n   function offModalBackdropTeam(event) {\n      if (event.target === refs.backdropTeam) {\n         closeModalTeam();\n      }\n   }\n})();"],"names":["$4Nugj","parcelRequire","refs","openModalTeamButton","document","querySelector","closeModalTeamButton","modalTeam","backdropTeam","closeModalTeam","classList","toggle","body","style","overflow","removeEventListener","offModalForEscape","offModalBackdropTeam","event","key","target","addEventListener","offModalBackdrop","$44ae6d9db4eaca0f$var$pagin","$jcFG7","pagination","$44ae6d9db4eaca0f$var$page","getCurrentPage","$j1lrD","spinner","spin","gallery","$17CGw","fetchTrendingMovies","then","data","total","total_results","reset","markup","$LW3sO","createFilmsGallery","results","innerHTML","stop","on","currentPage","page"],"version":3,"file":"index.40a465da.js.map"}