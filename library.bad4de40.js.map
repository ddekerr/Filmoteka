{"mappings":"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","sources":["src/js/library.js","src/js/library-buttons.js","src/js/plug-for-library.js"],"sourcesContent":["import './refs';\nimport { getWatchedItems } from './library-buttons';\nimport { createFilmsGallery } from './markups';\nimport pagination from './pagination';\nimport './plug-for-library';\nimport { createModalFilm } from './markups';\nimport './modal';\n\nimport { gallery } from './refs';\nimport { topFunction } from './functions';\nimport modalteam from './modalteam';\n\n//const pagin = pagination();\nconst paginate = (array, pageSize, pageNumber) => {\n  return array.slice((pageNumber - 1) * pageSize, pageNumber * pageSize);\n};\n\ngetWatchedItems();\n// рендерим пагинацию остальных страниц\npagination.on('beforeMove', event => {\n  topFunction();\n  // получаем номер активной страницы на кнопках\n  const currentPage = event.page;\n\n  // создаем массив для рендера по 20 айтемов на страницу\n  const arrayForMarkup = paginate(getWatchedItems(), 20, currentPage);\n\n  const markup = createFilmsGallery(arrayForMarkup);\n  gallery.innerHTML = markup;\n});\n","import { createFilmsGallery } from './markups';\nimport { onHoverBtnCLick } from './local-storage';\nimport pagination from './pagination';\nimport { topFunction } from './functions';\nimport { pag, gallery, cardModal } from './refs';\n\n\nconst queueBtn = document.querySelector('[data-queue=\"data-queue\"]');\nconst watchedBtn = document.querySelector('[data-watched=\"data-watched\"]');\nlet tab = 'watched';\n\nqueueBtn.addEventListener('click', onclickQueue);\nwatchedBtn.addEventListener('click', onClickWatched);\nqueueBtn.disabled = false;\n\n// функция, которая режет массив\nconst paginate = (array, pageSize, pageNumber) => {\n  return array.slice((pageNumber - 1) * pageSize, pageNumber * pageSize);\n};\n\n// функции получения данных из локалстора и рендеринга их\n\nexport function getWatchedItems() {\n  tab = 'watched';\n  const watchedMovies = localStorage.getItem('watched');\n  let arrayOFWatched = JSON.parse(watchedMovies) || [];\n  const total = arrayOFWatched.length;\n\n  // включаем пагинацию если больше 20 фильмов\n  if (arrayOFWatched.length > 20) {\n    pag.classList.remove('is-hidden');\n  } else if (arrayOFWatched.length <= 20) {\n    pag.classList.add('is-hidden');\n  }\n\n  // рендерим первые 20 фильмов\n  const markup = createFilmsGallery(paginate(arrayOFWatched, 20, 1), false, true, 'watched');\n  gallery.innerHTML = markup;\n  pagination.reset(total);\n  return arrayOFWatched;\n}\n\nfunction getQueueItems() {\n  tab = 'queue';\n  const queueMovies = localStorage.getItem('queue');\n  let arrayOFQueue = JSON.parse(queueMovies) || [];\n  const total = arrayOFQueue.length;\n\n  // включаем пагинацию если больше 20 фильмов\n  if (arrayOFQueue.length > 20) {\n    pag.classList.remove('is-hidden');\n  } else if (arrayOFQueue.length <= 20) {\n    pag.classList.add('is-hidden');\n  }\n\n  // рендерим первые 20 фильмов\n  const markup = createFilmsGallery(paginate(arrayOFQueue, 20, 1), false, true, 'queue');\n  gallery.innerHTML = markup;\n  pagination.reset(total);\n  return arrayOFQueue;\n}\n\n// функции нажатия на кнопки\n\nfunction onClickWatched() {\n  getWatchedItems();\n\n  // рендерим пагинацию остальных страниц\n  pagination.on('beforeMove', event => {\n    topFunction();\n    // получаем номер активной страницы на кнопках\n    const currentPage = event.page;\n    // создаем массив для рендера по 20 айтемов на страницу\n    const arrayForMarkup = paginate(getWatchedItems(), 20, currentPage);\n    console.log(arrayForMarkup);\n    const markup = createFilmsGallery(arrayForMarkup, false, true, 'watched');\n    gallery.innerHTML = markup;\n  });\n\n  // вкл/выкл кнопок\n  queueBtn.disabled = false;\n  queueBtn.classList.remove('active');\n  watchedBtn.classList.add('active');\n  watchedBtn.disabled = true;\n}\n\nfunction onclickQueue() {\n  getQueueItems();\n\n  // рендерим пагинацию остальных страниц\n  pagination.on('beforeMove', event => {\n    topFunction();\n    // получаем номер активной страницы на кнопках\n    const currentPage = event.page;\n    // создаем массив для рендера по 20 айтемов на страницу\n    const arrayForMarkup = paginate(getQueueItems(), 20, currentPage);\n    console.log(arrayForMarkup);\n    const markup = createFilmsGallery(arrayForMarkup, false, true, 'queue');\n    gallery.innerHTML = markup;\n  });\n\n  // вкл/выкл кнопок\n  watchedBtn.disabled = false;\n  queueBtn.classList.add('active');\n  watchedBtn.classList.remove('active');\n  queueBtn.disabled = true;\n}\n\n\ngallery.addEventListener('click', clickBtn);\ncardModal.addEventListener('click', clickBtn);\n\nfunction clickBtn(e) {\n  onHoverBtnCLick(e);\n  if(tab === 'watched') {\n    onClickWatched();\n  } else {\n    onclickQueue()\n  }\n}","const plugContainer = document.querySelector('.plug')\n hidePlug ()\n\nconst COLOR_LIST = ['#ff6b01'];\nlet $targetList;\n\nconst init = () => {\n  $targetList = document.querySelectorAll('[data-js=\"reveal\"]');\n\n  setup();\n\n  window.addEventListener('scroll', onScroll, false);\n  window.dispatchEvent(new Event('scroll'));\n};\n\nconst getArrayRandomValue = array =>\n  array[Math.floor(Math.random() * array.length)];\n\nconst setup = () => {\n  for (const $target of $targetList) {\n    const content = $target.innerHTML;\n    const color =\n      'revealColor' in $target.dataset\n        ? $target.dataset.revealColor\n        : getArrayRandomValue(COLOR_LIST);\n    $target.innerHTML = `<span data-reveal=\"content\"><div data-reveal=\"cover\" style=\"background-color:${color}\"></div><span data-reveal=\"text\">${content}</span></span>`;\n  }\n};\n\nconst onScroll = () => {\n  const windowH = window.innerHeight;\n  const scrollTop =\n    document.documentElement.scrollTop || document.body.scrollTop;\n  const isMostScroll = document.body.clientHeight <= scrollTop + windowH;\n\n  for (const $target of $targetList) {\n    if ($target.classList.contains('loaded')) continue;\n\n    const rect = $target.getBoundingClientRect();\n    const top = rect.top + scrollTop;\n    if (isMostScroll || top <= scrollTop + windowH * 0.8)\n      $target.classList.add('loaded');\n  }\n};\n\ndocument.addEventListener('DOMContentLoaded', init, false);\n\n\n\n\nfunction hidePlug (){\n  if (localStorage.length > 1) {\n    plugContainer.remove()\n  }\n}"],"names":["$4Nugj","parcelRequire","$LW3sO","$30be1b8188bd888b$var$queueBtn","document","querySelector","$30be1b8188bd888b$var$watchedBtn","$30be1b8188bd888b$var$tab","addEventListener","$30be1b8188bd888b$var$onclickQueue","$30be1b8188bd888b$var$onClickWatched","disabled","$30be1b8188bd888b$var$paginate","array","pageSize","pageNumber","slice","$30be1b8188bd888b$export$d72a0d389166c6d4","watchedMovies","localStorage","getItem","arrayOFWatched","JSON","parse","total","length","pag","classList","remove","add","markup","createFilmsGallery","gallery","innerHTML","$jcFG7","default","reset","$30be1b8188bd888b$var$getQueueItems","queueMovies","arrayOFQueue","on","event","$cKDzr","topFunction","currentPage","page","arrayForMarkup","console","log","$30be1b8188bd888b$var$clickBtn","e","$4LMMA","onHoverBtnCLick","cardModal","$103f778c81e94144$var$plugContainer","$103f778c81e94144$var$$targetList","$103f778c81e94144$var$COLOR_LIST","$103f778c81e94144$var$setup","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","$target","value","content","color","dataset","revealColor","Math","floor","random","concat","err","return","$103f778c81e94144$var$onScroll","windowH","window","innerHeight","scrollTop","documentElement","body","isMostScroll","clientHeight","contains","top","getBoundingClientRect","querySelectorAll","dispatchEvent","Event"],"version":3,"file":"library.bad4de40.js.map"}